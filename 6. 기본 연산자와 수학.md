# 기본 연산자와 수학
덧셈, 곱셈, 뺄샘과 같은 연산은 학교에서 배워서 이미 알고 계실겁니다.   
이번 챕터에서는 자바스크립트에서만 제공하는 연산자를 배워보겠습니다.


## 용어: '단항', '이항', '피연산자'
연산자에 대해 학습하기 전에, 앞으로 자주 등장하게 될 용어 몇 가지를 정리해 보겠습니다.

- 피연산자(operand)는 연산자가 연산을 수행하는 대상입니다. `4 * 2`에는 왼쪽 피연산자 `4`와 오른쪽 피연산자 `2`, 총 두 개의 피연사자가 있습니다. '피연산자'는 '인수(argument)'라는 용어로 불리기도 합니다.
- 피연산자를 하나만 받는 연산자는 단항(unary)연산자라고 부릅니다. 피연산자의 부호를 뒤집는 단항 마이너스 연산자 `-`는 단항 연산자의 대표적인 예입니다.
- 두 개의 피연산자를 받는 연산자는 이항 연산자 라고 부릅니다.
단항에서 연산되는 마이너스 연산자와 이항에서 연산되는 마이너스 연산자는 기호는 같지만 수행하는 연산은 다릅니다. 두 연산을 구분하는 기준은 피연산자의 개수입니다.   

## 나머지 연산자 %
나머지 연산자는 `%` 기호로 나타내지만, 비율을 나타내는 퍼센트와 관련이 없습니다.   
나머지 연산자를 사용한 표현식 `a % b`는 a는 b로 나눈 후 그 나머지를 정수로 반환해줍니다.
```
alert( 5 % 2 );   // 나머지 1을 출력
alert( 8 % 3 );   // 나머지 2를 출력
```

## 거듭제곱 연산자 **
거듭제곱 연산자를 사용한 `a ** b`를 평가하면 `a`를 `b`번 곱한 값이 반환됩니다.
```
alert( 2 ** 2 );    // 4  (2 * 2)
alert( 2 ** 3 );    // 8 (2 * 2 * 2)
alert( 2 ** 4 );    // 16 (2 * 2 * 2 * 2)
```
거듭제곱 연산자는 정수가 아닌 숫자에 대해서도 동작합니다.
```
alert( 4 ** (1/2) );   // 2 (1/2 거듭제곱은 제곱근)
alert( 8 ** (1/3) );   // 2 (1/3 거듭제곱은 세제곱근)\
```


## 이항 연산자 '+'와 문자열 연결
덕셈 연산자 `+`는 보통 숫자를 더한 결과를 반환합니다. 그런데 이항 연산자 `+`의 피연산자로 문자열이 전달되면 덧셈 연산자는 덧셈이 아닌 문자열을 병합(연결)합니다.
```
let s = "my" + "string";
alert(s);  // mystring
```
따라서 이항 연산자 `+`를 사용할 때는 피연산자 중 하나가 문자열이면 다른 하나도 문자열로 변환된다는 점에 주의 해야 합니다. 피연산자 중 어느 하나가 문자열이면 다른 하나도 문자열로 변환됩니다.   
좀 더 복잡한 예시를 살펴봅시다.
```
alert(2 + 2 + '1');   // '221'이 아니라 '41'이 출력됩니다.
```
연산은 왼쪽에서 오른쪽으로 순차적으로 진행되기 때문에 이런 결과가 나왔습니다. 두 개의 숫자 뒤에 문자열이 오는 경우, 숫자가 먼저 더해지고, 그 후 더해진 숫자와 문자열과의 병합이 일어납니다.
이처럼 이항 덧셈 연산자 `+`는 문자열 연결과 변환이라는 특별한 기능을 제공합니다. 다른 산술 연산자가 오직 숫자형의 피연산자만 다루고, 피연산자가 숫자형이 아닌 경우에 그 형을 숫자형으로 바꾸는것과는 대조적입니다.
다음 예시는 뺄샘 `-`과 나눗셈 `/`연산자가 어떻게 문자형 피연산자를 다루는지를 보여줍니다.
```
alert( 6 - '2' );  // 4, '2'를 숫자로 바꾼 후 연산이 진행됩니다.
alert( '6' / '2' );   // 3, 두 피연산자가 숫자로 바뀐 후 연산이 진행됩니다.
```


## 단항 연산자 +와 숫자형으로의 변환
덧셈 연산자 '+'는 이항 연산자뿐만 아니라 단항 연산자로도 사용할 수 있습니다.   
숫자에 단항 덧셈 연산자를 붙이면 이 연산자는 아무런 동작도 하지 않습니다. 그러나 피연산자가 숫자가 아닌 경우엔 숫자형으로 변환이 일어납니다.
```
alert( +true );  // 1
alert( +"" );   // 0
```
단항 덧셈 연산자는 짧은 문법으로도 `Number(...)`와 동일한 일을 할 수 있게 해줍니다.   
개발을 하다 보면 문자열을 숫자로 변환해야 하는 경우가 자주 생깁니다. HTML 폼(form) 필드에서 값을 가져왔는데 그 값이 문자형일 때 같이 말이죠. 실제로 폼에서 가지고 온 값은 대개 문자열 형태입니다.   
폼에서 가지고 온 값들을 이항 덧셈 연산자를 사용하면 문자열로 변해셔 연결될 겁니다.
원하는 대로 값을 더해주려면, 단항 덧셈 연산자를 사용해 피연사자를 숫자형으로 변화시키면 됩니다.
```
let apples = "2";
let oranges = "3";

// 이항 덧셈 연산자가 적용되기 전에, 두 피연산자는 숫자형으로 변화합니다.
alert( +apples + +oranges );   // 5
```
`Number(...)`를 사용하여도 같은 동작을 하는 코드를 작성할 수 있지만, 더 길어집니다.
위에 예제를 보면 이항 덧셈 연산자가 적용되기 전에 단항 덧셈 연산자가 먼저 적용되는것을 볼 수 있습니다. 그 이유는 연산자 우선순위 때문입니다.


## 연산자 우선순위
하나의 표현식에 둘 이상의 연산자가 있는 경우, 실행 순서는 연산자의 우선순위에 의해 결정됩니다.   
`1+1*2` 라는 식이 있을 때 곱셈이 먼저, 그 후에 덧셈이 일어난다는 것을 알고 계실 겁니다. 이런 개념이 연산자 우선순위 입니다. 여기서 곱셈은 덧셈보다 더 높은 우선순위를 가지죠.   
우선순위를 다 외우고 사용하기에는 너무 많습니다. 그래서 `()` 그룹 연산자를 사용하면 됩니다. 그룹 연산자는 모든 연산자들중 우선순위가 제일 높기 때문에 우선순위가 헷갈리거나 먼저 연산을 하고 싶다면 `()`안에 넣어 연산해주면 됩니다.


## 할당 연산자
무언가를 할당할 때 쓰이는 `=`도 연산자입니다. 인 연산자는 할당 연산자라고 불리는데, 우선순위가 아주 낮습니다.   
`x = 2 * 2 + 1`과 같은 표현식에서 계산이 먼저 이뤄지고, 그 결과가 `x`에 할당되는 이유가 바로 이 때문입니다.


### 값을 반환하는 할당 연산자
`=`는 연산자이기 때문에 흥미로운 함축성을 내포하고 있습니다.
자바스크립트에서 대부분의 연산자들은 값을 반환합니다. `+`와 `-`뿐만 아니라 `=` 역시 값을 반환하죠.   
`x = value`을 호출하면 `value`가 `x`에 쓰여지고, 이에 더하여 `value`가 변환됩니다.
```
let a = 1;
let b = 2;
let c = 3 - (a = b + 1);

alert(a); // 3
alert(c) // 0
```
위 예제에서 표현식 `(a = b + 1)`은 `a`에 값을 할당하고, 그 값인 `3`을 반환합니다. 그리고 반환 값은 이어지는 표현식에 사용됩니다.


### 할당 연산자 체이닝

할당 연산자는 아래와 같이 여러 개를 연결할 수도 있습니다.
```
let a, b, c;

a = b = c = 2 + 2;

alert( a );  // 4
alert( b );  // 4
alert( c );  // 4
```
이렇게 할당 연산자를 여러 개 연결한 경우, 평가는 우측부터 진행됩니다. 그런데 되도록이면 연산자를 체이닝 하는것 보다 가독성을 위해 줄을 나눠 코드를 작성하기 권유드립니다.

## 복합 할당 연산자
프로그램을 짜다 보면, 변수에 연산자를 적용하고 그 결과를 같은 변수에 저장해야 하는 경우가 종종 생깁니다.   
이때, `+=`와 `*=`연산자를 사용하면 짧은 문법으로 동일할 연산을 수행할 수 있습니다.
```
let n = 2;
n += 5;   // n은 7이 됩니다. (n = n + 5 와 동일)
n *= 2;   // n운 14가 됩니다. (n = n * 2 와 동일)
alert(n);  // 14
```
이런 `복합 할당 연산자는 산술 연산자와 비트 연산자에도 적용할 수 있습니다. `/=`, `-=`등의 연산자를 만들 수 있죠.
복합 할당 연산자의 우선순위는 할당 연산자와 동일합니다. 따라서 대부분 다른 연산자가 실행된 후에 복합할당 연산자가 실행됩니다.
```
let n = 2;
n *= 3 + 5;
alert(n);  // 16
```


## 증가 감소 연산자
숫자를 하나 늘리거나 줄이는 것은 자주 사용되는 연산입니다.   
자바스크립트에서는 이런 연산을 해주는 연산자를 제공합니다.
- 중가(increment) 연산자 `++`는 변수를 1 증가시킵니다.
- 감소(decrement) 연산자 `--`는 변수를 1 감소시킵니다.
   
❗중요 : 증가 감소 연산자는 변수에만 쓸 수 있습니다. `5++`와 같이 값에 사용하려고 하면 에러가 발생합니다.
   
`++`와 `--` 연산자는 변수 앞이나 뒤에 올 수 있습니다.
- `counter++`와 같이 피연산자 뒤에 올 때는, '후위형(postfix form)'이라고 부릅니다.
- `++counter`와 같이 피연산자 앞에 올 때는, '전위형(prefix form)'이라고 부릅니다.

후위형과 전위형은 피연산자인 `counter`를 `1`만큼 증가시켜 준다는 점에서 동일한 일을 합니다.   
두 형의 차이는 `++/--`의 반환 값을 사용할 때 드러납니다.   
자, 다시 상기해봅시다. 모든 연산자는 값을 반환합니다. 증가 감소 연산자도 마찬가지입니다. 전위형은 증가 감소 후의 새로운 값을 반환하는 반면 후위형은 증가 감소 전의 기존값을 반환합니다.
```
let counter = 1;
let a = ++counter;   // (1)
alert( a );  // 2
let b = counter++;   // (2)
alert( b );   // 1
```
`(1)`로 표시한 줄의 전위형 `++counter`는 `counter`를 증가시키고 새로운 값 2를 반환합니다. 하지만 `(2)` 후위형 `counter++`는 `counter`를 증가시키긴 하지만, 증가 전의 기존 값 1을 반환합니다.    

❕다른 연산자 사이의 증가 감소 연산자
`++/--` 연산자를 표현식 중간에 사용하는 것도 가능합니다. 이때, 증가, 감소 연산자의 우선순위는 다른 대부분의 산술 연산자보다 높기 때문에, 평가가 먼저 이뤄집니다.
```
let counter = 1;
alert( 2 * ++counter );  // 4
```
위 예시와 아래 예시를 비교해 봅시다.
```
let counter = 1;
alert( 2 * counter++ );  // 2
```
이렇게 코드를 작석하는게 기술적으로 문제가 있는 것은 아니지만, 한 줄에서 여러가지 일을 동시에 하고 있기 때문에 코드의 가독성이 떨어집니다.   
'코드 한 줄엔, 특정 동작 하나'에 관련된 내용만 작성하는게 좋습니다. 아래와 같이 말이죠
```
let counter = 1;
alert( 2 * counter );
counter++;
```
