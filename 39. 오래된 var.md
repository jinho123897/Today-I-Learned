# 오래된 var

변수를 다룬 첫 번째 장에서 변수 선언 방법 세 가지를 배운 바 있습니다.
1. `let`
2. `const`
3. `var`

`var`로 선언한 변수는 `let`으로 선언한 변수와 유사합니다. 대부분의 경우에 `let`을 `var`로, `var`를 `let`으로 바꿔도 큰 문제 없이 동장합니다.   
```
var message = "안녕하세요.";
alert(message);  // 안녕하세요.
```
하지만 `var`는 초기 자바스크립트 구현 방식 때문에 `let`과 `const`로 선언한 변수와는 다른 방식으로 동작합니다.   
   
`var`를 사용하는 오래된 스크립트를 `let`로 바꿀 때 `var`에 대해 제대로 알아두어야 합니다. 그렇지 않으면 예상치 못한 에러를 만날 수 있습니다.
   

## var는 블록 스코프가 없습니다.
   
`var`로 선언한 변수의 스코프는 함수 스코프이거나 전역 스코프입니다. 블록 기준으로 스코프가 생기지 않기 때문에 블록 밖에서 접근 가능합니다.
```
if (true) {
  var test = true;
}

alert(test) // true
```
`var`는 코드 블록을 무시하기 때문에 `test`는 전역 변수가 됩니다. 전역 스코프에서 이 변수에 접근할 수 있죠.   
두 번째 행에서 `var test`가 아닌 `let test`를 사용했다면, 변수 `test`는 `if`문 안에서만 접근할 수 있습니다.
```
if (true) {
  let test = true;
}

alert(test); // Error...
```
반복문에서도 유사한 일이 일어납니다. `var`는 블록이나 루프 수준의 스코프를 형성하지 않기 때문이죠.
```
for (var i = 0; i < 10; i++) {
  // ...
}

alert(i);  // 10
```
코드 블록이 함수 안에 있다면, `var`는 함수 레벨 변수가 됩니다.
```
function sayHi() {
  if (true) {
    var phrase = "Hello";
  }

  alert(phrase);  // 제대로 출력됩니다.
}

sayHi();
alert(phrase); // Error:...
```
위에서 살펴본 바와 같이, `var`는 `if`, `for`등의 코드 블록을 관통합니다. 아주 오래전의 자바스크립트에선 블록 수준 렉시컬 환경이 만들어 지지 않았기 때문입니다. `var`는 구식 자바스크립트의 잔재이죠.
