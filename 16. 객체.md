# 객체
자료형 챕터에서 배웠듯이 자바스크립트엔 여덟 가지 자료형이 있습니다. 이 중 일곱 개는 오직 하나의 데이터만 담을 수 있어 '원시형' 이라 부릅니다.   
   
그런데 객체형은 원시형과 달리 다양한 데이터를 담을 수 있습니다. 키로 구분된 데이터 집합이나 복잡한 개체를 저장할 수 있죠. 객체는 자바스크립트 거의 모든 면에 녹아있는 개념이므로 자바스크립트를 잘 다루려면 객체를 잘 이해하고 있어야 합니다.   
   
객체는 중괄호 `{...}`를 이용해 만들 수 있습니다. 중괄호 안에는 '키: 값' 쌍으로 구성된 프로퍼티를 여러 개 넣을 수 있는데, `키`엔 문자형, `값`엔 모든 자료형이 허용됩니다. 프로퍼티 키는 '프로퍼티 이름'이라고도 부릅니다.   
   
서랍장을 상상하면 객체를 이해하기 쉽습니다. 서랍장 안 파일은 프로퍼티, 파일 각각에 붙어있는 이름표는 객체의 키라고 생각하시면 됩니다. 복잡한 서랍장 안에서 이름표를 보고 원하는 파일을 쉽게 찾을 수 있듯이, 객체에선 키를 이용해 프로퍼티를 쉽게 찾을 수 있습니다. 추가나 삭제도 마찬가지입니다.   
   
빈 객체를 만드는 방법은 두가지가 있습니다.
```
let user = new Object();  // '객체 생성자' 문법
let user = {};  // '객체 리터럴' 문법
```
중괄호 `{...}`를 이용해 객체를 선언하는 것을 객체 리터럴 이라고 부릅니다. 객체를 선언할땐 주로 이 방법을 사용합니다.   


## 리터럴과 프로퍼티
중괄호 `{...}` 안에는 '키: 값' 쌍으로 구성된 프로퍼티가 들어갑니다.
```
let user = {
  name: "John",
  age: 30
};
```
`'콜론(:)'`을 기준으로 왼쪽엔 키다, 오른쪽엔 값이 위치합니다. 프로퍼티 키는 프로퍼티 '이름' 혹은 '식별자' 라고도 부릅니다.   
   
객체 `user`에는 "name", "age"라는 프로퍼티 키를 가지고 있는 프로퍼티 두 개가 있습니다.   
개발자는 객체에 프로퍼티를 추가하고, 삭제할 수 있습니다.   
점 표기법을 이용하면 프로퍼티 값을 읽는 것도 가능합니다.
```
alert( user.name );   // John
alert( user.age );  // 30
```   
프로퍼티 값엔 모든 자료형이 올 수 있습니다.   
`delete`연산자를 사용하면 프로퍼티를 삭제할 수 있습니다.
```
delete user.age;
```
   
여러 단어를 조합해 프로퍼티 이름을 만든 경우엔 프로퍼티 이름을 따옴표로 묶어줘야 합니다.
```
let user = { 
  name: "John",
  age: 30, 
  "likes birds": true
};
```
마지막 프로퍼티 끝은 쉼표로 끝나도 됩니다.   
이런 쉼표를 'trailing`혹은 'hanging' 쉼표라고 부릅니다. 이렇게 끝에 쉼표를 붙이면 모든 프로퍼티가 유사한 형태를 보이기 때문에 프로퍼티를 추가, 삭제, 이동하는 게 쉬워집니다.   
   
❕상수 객체는 수정될 수 있습니다.   
   
주의 하세요. `const`로 선언된 객체는 수정될 수 있습니다.
```
const user = { 
  name: "John"
};

user.name = "Pete"; 

alert(user.name);   // Pete
```
`const`는 `user`의 값을 고정하지만, 그 내용은 고정하지 않습니다.   
`const`는 `user=...`를 전체적으로 설정하려고 할 때만 오류가 발생합니다.   
상수 객체 프로퍼티를 만드는 또 다른 방법이 있습니다. 이후에 프로퍼티 플래그와 설명자 챕터에서 다루겠습니다.


## 대괄호 표기법
여러 단어를 조합해 프로퍼티 키를 만든 경우엔, 점 표기법을 사용해 프로퍼티 값을 읽을 수 없습니다.
```
user.likes birds = true;
```
자바스크립트는 위와 같은 코드를 이해하지 못합니다. `user.likes`까지는 이해하다가 예상치 못한 `birds`를 만나면 문법 에러가 일어납니다.   
   
'점'은 키가 '유효한 변수 식별자'인 경우에만 사용할 수 있습니다. 유효한 변수 식별자엔 공백이 없어야 합니다. 또한 숫자로 시작하지 않아야 하며 `$`와 `_`를 제외한 특수 문자가 없어야 합니다.   
   
키가 유효한 변수 식별자가 아닌 경우엔 점 표기법 대신에 '대괄호 표기법'이라 불리는 밥법을 사용할 수 있습니다. 대괄효 표기법은 키에 어떤 문자열이 있던지 상관없이 동작합니다.
```
let user = {};

// set
user["likes birds"] = true;

// get
alert(user["likes birds"]);  // true

// delete
delete user["likes birds"];
```
이제 문법 에러가 발생하지 않네요. 대괄호 표기법 안에서 문자열을 사용할땐 문자열을 따옴표호 묶어줘야 한다는 점에 주의하시기 바랍니다. 따옴표의 종류는 상관없습니다.   
   
대괄호를 표기법을 사용하면 아래 예시에서 변수를 키로 사용한 것과 같이 문자열뿐만 아니라 모든 표현식픠 평가 결과를 프로퍼티 키로 사용할 수 있습니다.
```
let key = "likes birds";
 
// user["likes birds"] = true; 와 같습니다.
user[key] = true;
```
변수 `key`는 런타임에 평가되지 때문에 사용자 입력값 변동 등에 따라 값이 변경될 수 있습니다. 어떤 경우든, 평가가 끝난 이후의 결과가 프로퍼티 키로 사용됩니다. 이를 응용하면 코드를 유연하게 작성할 수 있습니다.
```
let user = {
  name: "John",
  age: 30
};

let key = prompt("사용자의 어떤 정보를 얻고 싶으신가요?", "name");

alert( user[key] );  // John (프롬프트 창에 "name"를 입력한 경우)
```
그런데 점 표기법은 이런 방식이 불가능합니다.


### 계산된 프로퍼티
객체를 만들 때 객체 리터럴 안의 프로퍼티 키가 대괄호로 둘러싸여 있는 경우, 이를 계산된 프로퍼티라고 부릅니다.
```
let fruit = prompt("어떤 과일을 구매하시겠습니다?", "apple");

let bag = {
  [fruit]: 5,   // 변수 fruit에서 프로퍼티 이름을 동적으로 받아 옵니다.
};

alert( bag.apple );  // fruit에 "apple"이 할당되었다면, 5가 출력됩니다.
```
위 예시에서 `[fruit]`는 프로퍼티 이름을 변수 `fruit`에서 가져오겠다는 것을 의미합니다.   
사용자가 프롬프트 대화상자에 `apple`을 입력했다면 `bag`엔 `{apple: 5}`가 할당되었을 겁니다.   
   
다음 예시처첨 대괄호 안에는 복잡한 표현식이 올 수도 있습니다.
```
let fruit = "apple";
let bag = {
  [fruit + "Computers"]: 5  // bag.appleComputers = 5
};
```
대괄호 표기법은 프로퍼티 이름과 값의 제약을 없애주기 때문에 점 표기법보다 훨씬 강력합니다. 그런데 작성하기 번거롭다는 단점이 있습니다.   
   
이런 이유로 프로퍼티 이름이 확정된 상황이고, 단순한 이름이라면 처음엔 점 표기법을 사용하다가 뭔가 복잡한 상황이 발생했을 때 대괄호 표기법으로 바꾸는 경우가 많습니다.


